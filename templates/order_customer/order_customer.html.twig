{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block body %}

{% for label, messages in app.flashes(['success', 'danger']) %}
    {% for message in messages %}
        <div class="alert alert-{{ label }}">
            {{ message }}
        </div>
    {% endfor %}
{% endfor %}

<h1>Commande</h1>

<hr class="my-4">

<div class="container mt-3">

    {{ form_start(form) }}

    {{ form_errors(form) }}

    
    {{ form_widget(form) }}

   
    

    {{ form_start(formCustomer) }}

    
  
    {{ form_widget(formCustomer) }}

    <button type="submit" class="btn btn-info my-3">Continuer la commande</button>
        
    {# {% if total > 1 %}
        <button type="submit" class="btn btn-info my-3">Continuer la commande</button>
    {% endif %}


    {% if total <= 1 %}
        <button type="#" class="btn btn-success my-3">Terminer la commande</button>
    {% endif %} #}


        {# <button type="#" class="btn btn-success my-3">Terminer la commande</button>

        <button type="#" class="btn btn-danger my-3">Supprimer la commande</button> #}

    {{ form_end(formCustomer) }}

    {{ form_end(form) }}

</div>

{% endblock %}

{% block javascripts %}

<script>
    
    {# var dates = ['01/05/yyyy', '01/11/yyyy', '25/12/yyyy'];
    var year = [2019, 2020];

    var data= year[1].toString();
    var result = [data];

    var date1 = dates[0].replace('yyyy', result[0]);
    var date2 = dates[1].replace('yyyy', result[0]);
    var date3 = dates[2].replace('yyyy', result[0]);
    var allDates = [date1, date2, date3];
    console.log(allDates);

    var datesDisabled = allDates; #}
    //console.log(datesDisabled);

    var datesDisabled = ['01/05/2019', '01/11/2019', '25/12/2019'];
    
    $('#order_customer_dateOfVisit').datepicker({
        format: 'dd/mm/yyyy',
        daysOfWeekDisabled: [2, 0],
        datesDisabled: datesDisabled,
        startDate: new Date(),
        language: 'fr',
        autoclose: true,
        todayHighlight: true,
        useLocalTimeZone: true,
    });

    $('#user_customer_dateOfBirthday').datepicker({
        format: 'dd/mm/yyyy',
        endDate: new Date(),
        language: 'fr',
        autoclose: true,
        todayHighlight: true
    })
</script>
        
{% endblock %}